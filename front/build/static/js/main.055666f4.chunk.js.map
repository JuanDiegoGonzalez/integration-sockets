{"version":3,"sources":["components/movie.js","components/movies-list.js","components/main.js","index.js"],"names":["Movie","props","movie","name","MoviesList","useState","movies","setMovies","useEffect","wss","WebSocket","onopen","onmessage","msg","console","log","JSON","parse","data","setupWs","fetch","then","res","json","map","m","Main","ReactDOM","render","document","getElementById"],"mappings":"+IAMeA,MANf,SAAeC,GACX,OACG,6BAAKA,EAAMC,MAAMC,QCmCTC,MAjCf,WAEI,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAqBA,OATAC,qBAAU,YAVV,WACI,IAAMC,EAAM,IAAIC,UAAU,uBAC1BD,EAAIE,OAAS,WACTF,EAAIG,UAAY,SAACC,GACbC,QAAQC,IAAI,4BAA6BF,GACzCN,EAAUS,KAAKC,MAAMJ,EAAIK,SAOjCC,GAEAC,MAAM,eAAeC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAAQF,MAAK,SAAAC,GAC5Cf,EAAUe,QAEf,IAGC,gCACI,6CACA,6BACKhB,EAAOkB,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAOvB,MAAOuB,aCvBhCC,MANf,WACI,OACI,cAAC,EAAD,KCARC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.055666f4.chunk.js","sourcesContent":["function Movie(props){\n    return(\n       <li>{props.movie.name}</li>\n    )\n}\n\nexport default Movie;","import { useState, useEffect } from \"react\";\nimport Movie from \"./movie\";\n\n\nfunction MoviesList(){\n    \n    const [movies, setMovies] = useState([]);\n\n    function setupWs(){\n        const wss = new WebSocket(\"ws://localhost:3001\")\n        wss.onopen = () =>{\n            wss.onmessage = (msg) => {\n                console.log(\"Mensaje desde el servidor\", msg)\n                setMovies(JSON.parse(msg.data))\n            }\n        }\n    }\n\n    useEffect(()=>{\n\n        setupWs();\n\n        fetch(\"/api/movies\").then(res=>res.json()).then(res=>{\n            setMovies(res);\n        })\n    }, []);\n\n    return(\n        <div>\n            <h1>Movies List</h1>\n            <ul>\n                {movies.map(m => <Movie movie={m}/>)}\n            </ul>\n        </div>\n    )\n}\n\nexport default MoviesList;","import MoviesList from \"./movies-list\"\n\nfunction Main(){\n    return(\n        <MoviesList/>\n    )\n}\n\nexport default Main;","import ReactDOM from \"react-dom\";\n\nimport Main from \"./components/main\";\n\nReactDOM.render(<Main/>, document.getElementById(\"root\"));"],"sourceRoot":""}